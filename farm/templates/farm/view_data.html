<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Farm Data Overview</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="bg-light">
    <div class="container mt-5">
      <h2 class="mb-4">🌿 Farm Records Overview</h2>

      <!-- Crops Section -->
      <h4>🌱 Crops</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Name</th>
              <th>Planted Date</th>
              <th>Harvest Date</th>
            </tr>
          </thead>
          <tbody>
            {% if crops %} {% for crop in crops %}
            <tr>
              <td>{{ crop.name }}</td>
              <td>{{ crop.planting_date|date:"F j, Y" }}</td>
              <td>{{ crop.harvest_date|date:"F j, Y" }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="3">No crop data yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <!-- Livestock Section -->
      <h4>🐄 Livestock</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Type</th>
              <th>Count</th>
            </tr>
          </thead>
          <tbody>
            {% if livestock %} {% for item in livestock %}
            <tr>
              <td>{{ item.type }}</td>
              <td>{{ item.count }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="2">No livestock data yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <!-- Financials Section -->
      <h4>💰 Financials</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Date</th>
              <th>Description</th>
              <th>Amount</th>
            </tr>
          </thead>
          <tbody>
            {% if financials %} {% for record in financials %}
            <tr>
              <td>{{ record.date|date:"F j, Y" }}</td>
              <td>{{ record.description }}</td>
              <td>${{ record.amount }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="3">No financial data yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <!-- Workers Section -->
      <h4>👷 Workers</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Name</th>
              <th>Role</th>
            </tr>
          </thead>
          <tbody>
            {% if workers %} {% for worker in workers %}
            <tr>
              <td>{{ worker.name|default:"Unknown Worker" }}</td>
              <td>{{ worker.role|default:"No role assigned" }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="2">No workers assigned yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <!-- Tasks Section -->
      <h4>🗓️ Tasks</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Task Title</th>
              <th>Assigned To</th>
              <th>Due Date</th>
            </tr>
          </thead>
          <tbody>
            {% if tasks %} {% for task in tasks %}
            <tr>
              <td>{{ task.title }}</td>
              <td>{{ task.assigned_to|default:"Unknown" }}</td>
              <td>{{ task.due_date|date:"F j, Y"|default:"No due date" }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="3">No tasks assigned yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <!-- Weather Section -->
      <h4>☁️ Weather</h4>
      <div class="table-responsive">
        <table class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>Date</th>
              <th>Condition</th>
            </tr>
          </thead>
          <tbody>
            {% if weather %} {% for w in weather %}
            <tr>
              <td>{{ w.date|date:"F j, Y" }}</td>
              <td>{{ w.condition|default:"No weather data" }}</td>
            </tr>
            {% endfor %} {% else %}
            <tr>
              <td colspan="2">No weather data yet.</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>

      <a href="{% url 'dashboard' %}" class="btn btn-secondary mt-4"
        >← Back to Dashboard</a
      >
    </div>
  </body>
</html>
